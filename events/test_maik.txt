namespace = test_maik

country_event = {
	id = test_maik.1
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		capital_scope = {
			solar_system = {
				every_system_planet = {
					limit = {
						OR = {
							AND = {
								has_deposit_for = shipclass_mining_station
								has_mining_station = no
							}
							AND = {
								has_deposit_for = shipclass_research_station
								has_research_station = no
							}								
						}
					}
					IF = {
						limit = {
							has_deposit_for = shipclass_research_station
						}
						create_research_station = {
							owner = root
						}
					}
					IF = {
						limit = {
							has_deposit_for = shipclass_mining_station
						}
						create_mining_station = {
							owner = root
						}
					}
				}
			}
		}
	}
}

planet_event = {
	id = test_maik.2
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		random_country = {
			limit = {
				is_ai = no
			}
			save_event_target_as = player
		}
		create_research_station = {
			owner = event_target:player
		}
	}
}